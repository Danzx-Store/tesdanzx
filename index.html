<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contoh Button + Popup — Danzx Official</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#7c3aed;--muted:#94a3b8;--glass: rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;min-height:100vh;margin:0;background:linear-gradient(180deg,#071124 0%,#071935 60%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:32px}

    .container{width:100%;max-width:960px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));backdrop-filter: blur(6px);border-radius:14px;padding:36px;box-shadow:0 8px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}

    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 20px;color:var(--muted)}

    .controls{display:flex;gap:12px;flex-wrap:wrap}
    .btn{appearance:none;border:0;padding:12px 18px;border-radius:10px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:10px}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#4f46e5);color:white;box-shadow:0 6px 18px rgba(124,58,237,0.24);transition:transform .12s ease,box-shadow .12s ease}
    .btn-primary:active{transform:translateY(1px)}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    /* Modal styles */
    .overlay{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,6,23,0.6),rgba(2,6,23,0.75));display:flex;align-items:center;justify-content:center;padding:32px;z-index:100;opacity:0;pointer-events:none;transition:opacity .18s ease}
    .overlay.visible{opacity:1;pointer-events:auto}
    .modal{width:100%;max-width:640px;background:linear-gradient(180deg,#071428 0%,#061827 100%);border-radius:14px;padding:22px 22px 18px;box-shadow:0 20px 60px rgba(2,6,23,0.7);border:1px solid rgba(255,255,255,0.04);transform:translateY(12px) scale(.98);opacity:0;transition:transform .18s cubic-bezier(.2,.9,.2,1),opacity .18s ease}
    .overlay.visible .modal{transform:none;opacity:1}

    .modal-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .modal-title{font-size:16px;margin:0}
    .close{background:transparent;border:0;color:var(--muted);font-weight:700;cursor:pointer;padding:8px;border-radius:8px}
    .close:focus{outline:2px solid rgba(124,58,237,0.35)}

    .modal-body{margin-top:14px;color:var(--muted);line-height:1.5}

    .kbd{background:var(--glass);padding:6px 8px;border-radius:8px;font-weight:700;color:#dfe8ff;border:1px solid rgba(255,255,255,0.03);font-size:13px}

    /* small responsive tweaks */
    @media (max-width:520px){.card{padding:22px}.btn{width:100%;justify-content:center}}

    /* focus styles for accessibility */
    .btn:focus,.close:focus{outline:3px solid rgba(79,70,229,0.18);outline-offset:2px}
  </style>
</head>
<body>
  <div class="container">
    <div class="card" role="region" aria-labelledby="headline">
      <h1 id="headline">Demo Button + Popup</h1>
      <p class="lead">Tekan tombol di bawah untuk membuka popup modal yang responsif, dapat diakses, dan memiliki transisi halus. Tekan <span class="kbd">Esc</span> untuk menutup.</p>

      <div class="controls">
        <button class="btn btn-primary" id="openBtn" aria-haspopup="dialog" aria-controls="demoModal">
          Buka Popup
        </button>

        <button class="btn btn-ghost" id="infoBtn">
          Info Lainnya
        </button>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="overlay" id="overlay" role="presentation">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1" id="demoModal">
      <div class="modal-header">
        <h2 id="modalTitle" class="modal-title">Judul Popup</h2>
        <button class="close" id="closeBtn" aria-label="Tutup dialog">✕</button>
      </div>
      <div class="modal-body">
        <p>Ini adalah contoh popup sederhana. Kamu bisa meletakkan form, gambar, atau konten lain di sini. Popup ini juga menutup saat klik di luar area modal atau tekan <span class="kbd">Esc</span>.</p>
        <p style="margin-top:12px">Contoh tindakan cepat:</p>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn btn-primary" id="actionSave">Simpan</button>
          <button class="btn btn-ghost" id="actionCancel">Batal</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Elemen
    const openBtn = document.getElementById('openBtn');
    const overlay = document.getElementById('overlay');
    const demoModal = document.getElementById('demoModal');
    const closeBtn = document.getElementById('closeBtn');
    const actionCancel = document.getElementById('actionCancel');
    const actionSave = document.getElementById('actionSave');

    // Fokus sebelumnya untuk mengembalikan fokus saat modal ditutup
    let previouslyFocused = null;

    function openModal(){
      previouslyFocused = document.activeElement;
      overlay.classList.add('visible');
      demoModal.focus();
      document.body.style.overflow = 'hidden'; // cegah scroll belakang layar
      // trap focus sederhana
      trapFocus(demoModal);
    }

    function closeModal(){
      overlay.classList.remove('visible');
      document.body.style.overflow = '';
      if(previouslyFocused) previouslyFocused.focus();
    }

    openBtn.addEventListener('click', openModal);
    closeBtn.addEventListener('click', closeModal);

    // Action buttons
    actionCancel.addEventListener('click', closeModal);
    actionSave.addEventListener('click', () => {
      alert('Data disimpan (contoh).');
      closeModal();
    });

    // Klik di overlay untuk menutup jika klik bukan di modal
    overlay.addEventListener('click', (e) => {
      if(e.target === overlay) closeModal();
    });

    // ESC untuk menutup
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && overlay.classList.contains('visible')) closeModal();
    });

    // Focus trap (sederhana)
    function trapFocus(modal){
      const focusable = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
      const first = focusable[0];
      const last = focusable[focusable.length - 1];
      if(!first) return;

      function handleKey(e){
        if(e.key !== 'Tab') return;
        if(e.shiftKey){ // shift + tab
          if(document.activeElement === first){
            e.preventDefault();
            last.focus();
          }
        } else { // tab
          if(document.activeElement === last){
            e.preventDefault();
            first.focus();
          }
        }
      }

      modal.addEventListener('keydown', handleKey);
      // hapus listener saat modal ditutup
      const observer = new MutationObserver(() => {
        if(!overlay.classList.contains('visible')){
          modal.removeEventListener('keydown', handleKey);
          observer.disconnect();
        }
      });
      observer.observe(overlay, {attributes:true, attributeFilter:['class']});
    }

    // Contoh tombol info lainya
    document.getElementById('infoBtn').addEventListener('click', () => {
      alert('Tombol info ditekan — kamu bisa menautkan ke halaman lain atau menampilkan tooltip.');
    });
  </script>
</body>
</html>
