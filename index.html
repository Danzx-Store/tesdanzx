<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Danzx Hosting ‚Äî Store & Pembayaran</title>
<link rel="icon" href="" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

  :root{
    --bg1:#0f0b1a;
    --bg2:#2b1f4a;
    --glass: rgba(255,255,255,0.06);
    --accent1: #7c5cff;
    --accent2: #5af1c9;
    --success: #2ed573;
    --gold: #ffb84d;
    --muted: rgba(255,255,255,0.78);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    background-size:300% 300%;
    animation: bgShift 10s ease-in-out infinite;
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
    padding-bottom:120px;
  }
  @keyframes bgShift{
    0%{background-position:0% 50%}
    50%{background-position:50% 100%}
    100%{background-position:100% 50%}
  }

  /* particles */
  .particle{position:fixed;border-radius:50%;pointer-events:none;opacity:.7;filter:blur(.6px)}

  .wrap{max-width:1080px;margin:28px auto;padding:20px}

  /* header */
  .header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
  .logo{width:72px;height:72px;border-radius:14px;background:linear-gradient(135deg,var(--accent1),#9b8bff);
    display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:18px;box-shadow:0 8px 30px rgba(124,92,255,0.18)}
  .title h1{margin:0;font-size:20px}
  .title p{margin:4px 0 0;color:var(--muted);font-size:13px}

  .grid{display:grid;grid-template-columns:1fr 380px;gap:18px}

  /* left panel */
  .panel{background:var(--glass);border-radius:14px;padding:18px;backdrop-filter:blur(12px);box-shadow:0 10px 30px rgba(0,0,0,0.35)}
  .panel h2{margin:0 0 12px;font-size:18px}
  .products{display:grid;grid-template-columns:1fr 1fr;gap:12px}

  .product{
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.04);
    display:flex;gap:12px;align-items:center;transition:transform .18s,box-shadow .18s;
  }
  .product:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(0,0,0,0.35)}
  .product img{width:86px;height:66px;border-radius:8px;object-fit:cover;flex-shrink:0}
  .p-info{flex:1}
  .p-info .name{font-weight:600;font-size:14px}
  .p-info .desc{color:var(--muted);font-size:12px;margin-top:4px}
  .p-action{text-align:right}
  .price{font-weight:700;margin-bottom:8px}
  .btn-buy{background:linear-gradient(135deg,var(--accent1),#a78bfa);border:none;padding:8px 12px;border-radius:10px;color:#fff;cursor:pointer;font-weight:600}
  .btn-buy:hover{transform:scale(1.03)}

  /* right column */
  .side{display:flex;flex-direction:column;gap:12px}
  .card{background:var(--glass);padding:18px;border-radius:12px;backdrop-filter:blur(12px);box-shadow:0 10px 30px rgba(0,0,0,0.35)}
  .card h3{margin:0 0 10px;font-size:16px}
  .small{font-size:13px;color:var(--muted)}

  .dana-number{font-size:18px;font-weight:700;letter-spacing:1px;margin-top:8px}
  .btn{padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
  .btn-copy{background:linear-gradient(135deg,var(--success),#58e28b);color:#062017}
  .btn-toggle{background:linear-gradient(135deg,#6ea8ff,#52d0ff);color:#042737}
  .btn-primary{background:linear-gradient(135deg,var(--accent1),#8b5cf6);color:#fff;width:100%}
  .btn-wa{background:linear-gradient(135deg,#25d366,#2bd67a);color:#012205}
  .btn-tele{background:linear-gradient(135deg,#08a0e9,#2a9df4);color:#022238}
  .btn-gold{background:linear-gradient(135deg,var(--gold),#ff9800);color:#2b1b00}

  .qris-box{overflow:hidden;max-height:0;opacity:0;transition:max-height .5s ease,opacity .4s}
  .qris-box.show{max-height:600px;opacity:1}
  .qris-box img{width:100%;border-radius:10px;margin-top:12px}

  /* cart */
  .cart-empty{color:var(--muted);font-size:14px;padding:12px 0}
  .cart-list{display:flex;flex-direction:column;gap:10px;max-height:300px;overflow:auto;padding-right:6px}
  .cart-item{display:flex;justify-content:space-between;gap:8px;align-items:center;padding:8px;background:rgba(0,0,0,0.15);border-radius:8px}
  .cart-item img{width:56px;height:44px;border-radius:8px;object-fit:cover}
  .cart-item .meta{font-size:13px}
  .cart-actions{display:flex;gap:8px;margin-top:10px}
  .total-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px;font-size:16px;font-weight:700}

  /* shipping (ongkir) widget */
  .ship-row{display:flex;gap:8px;margin-top:10px;align-items:center}
  .input,select{width:100%;padding:10px;border-radius:8px;border:none;background:rgba(255,255,255,0.03);color:#fff}

  /* footer */
  .footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px;padding:18px}

  /* fab cart */
  .cart-fab{position:fixed;right:18px;bottom:18px;background:linear-gradient(135deg,var(--accent1),#a78bfa);width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 30px rgba(123,80,255,0.28);cursor:pointer;border:none}
  .cart-count{position:absolute;right:12px;top:8px;background:#ff5b5b;color:#fff;border-radius:999px;padding:4px 7px;font-weight:700;font-size:12px}

  @media(max-width:920px){
    .grid{grid-template-columns:1fr}
    .products{grid-template-columns:1fr}
    .side{order:2}
  }
</style>
</head>
<body>

<!-- gentle particles -->
<script>
(function generateParticles(){
  const colors=['rgba(255,255,255,0.12)','rgba(124,92,255,0.18)','rgba(90,241,201,0.09)'];
  for(let i=0;i<20;i++){
    const el=document.createElement('div');
    el.className='particle';
    el.style.left=(Math.random()*100)+'vw';
    el.style.top=(Math.random()*100)+'vh';
    const size = 4 + Math.random()*10;
    el.style.width=size+'px'; el.style.height=size+'px';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.animationDuration = (6 + Math.random()*6)+'s';
    el.style.opacity = 0.25 + Math.random()*0.7;
    document.body.appendChild(el);
  }
})();
</script>

<div class="wrap">
  <header class="header">
    <div class="logo">DZX</div>
    <div class="title">
      <h1>Danzx Hosting ‚Ä¢ Store Premium</h1>
      <p>Produk & Layanan ‚Ä¢ Pembayaran DANA/QRIS ‚Ä¢ Support WA & Telegram</p>
    </div>
  </header>

  <main class="grid">
    <!-- Products -->
    <section class="panel" aria-label="Daftar Produk">
      <h2>Daftar Produk</h2>
      <div class="products" id="products"></div>
    </section>

    <!-- Side: cart, payment, kontak -->
    <aside class="side">
      <!-- Cart -->
      <div class="card" aria-label="Keranjang Belanja">
        <h3>Keranjang Belanja</h3>
        <div id="cartArea">
          <div id="cartEmpty" class="cart-empty">Keranjang kosong ‚Äî tambahkan produk.</div>
          <div id="cartList" class="cart-list" style="display:none"></div>

          <div class="total-row" id="totalRow" style="display:none">
            <div>Total</div>
            <div id="totalPrice">Rp 0</div>
          </div>

          <!-- Shipping selection (calculated at checkout or manually) -->
          <div style="margin-top:12px">
            <label class="small">Opsi Ongkir Cepat</label>
            <div class="ship-row">
              <select id="shipCourier" class="input">
                <option value="jne">JNE</option>
                <option value="jnt">JNT</option>
                <option value="sicepat">SiCepat</option>
              </select>
              <input id="shipWeight" class="input" type="number" placeholder="Berat (gram)" min="1" value="1000" />
            </div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn btn-primary" id="calcShipBtn">Hitung Ongkir</button>
              <button class="btn btn-gold" id="addShipToTotal" title="Tambahkan ongkir ke total">Masukkan ke Total</button>
            </div>
            <div id="shipResult" class="small" style="margin-top:8px">Total Ongkir: Rp 0</div>
          </div>

          <div class="cart-actions" style="margin-top:12px;display:none" id="cartActions">
            <button class="btn btn-wa" id="checkoutWhats">Checkout via WhatsApp</button>
            <button class="btn btn-primary" id="clearCartBtn">Clear</button>
          </div>
        </div>
      </div>

      <!-- Payment DANA -->
      <div class="card" aria-label="Pembayaran">
        <h3>Pembayaran DANA</h3>
        <div class="dana-number" id="danaNumber">08133124186</div>
        <div class="small">Atas nama: Danzx Hosting</div>

        <div style="display:flex;gap:8px;margin-top:12px">
          <button class="btn btn-copy" id="copyDanaBtn">Copy Nomor</button>
          <button class="btn btn-toggle" id="toggleQrisBtn">QRIS</button>
        </div>

        <div class="qris-box" id="qrisBox">
          <img src="https://files.catbox.moe/3vueqq.jpg" alt="QRIS Pembayaran">
          <div style="display:flex;gap:8px;margin-top:10px">
            <button class="btn btn-primary" id="copyDanaPay">Salin & Konfirmasi</button>
            <button class="btn btn-gold" id="downloadQris">Download QRIS</button>
          </div>
        </div>
      </div>

      <!-- Contact & Testimoni -->
      <div class="card" aria-label="Kontak">
        <h3>Kontak & Testimoni</h3>
        <div style="display:flex;gap:8px;margin-top:8px">
          <a href="https://t.me/Danzx_Official" target="_blank" rel="noopener">
            <button class="btn btn-tele">Telegram</button>
          </a>
          <a id="waContact" href="https://wa.me/6285124271621" target="_blank" rel="noopener">
            <button class="btn btn-wa">WhatsApp</button>
          </a>
        </div>
        <div style="margin-top:12px">
          <a href="https://whatsapp.com/channel/0029VbBSKdh8aKvShLrENh11" target="_blank" rel="noopener">
            <button class="btn btn-gold" style="width:100%">Testimoni Pelanggan</button>
          </a>
        </div>
      </div>

    </aside>
  </main>

  <div class="footer">¬© <span id="year"></span> Danzx Hosting ‚Äî dibuat dengan ‚ù§Ô∏è</div>
</div>

<!-- Floating cart button -->
<button class="cart-fab" id="openCartFab" title="Buka Keranjang">
  <div class="cart-count" id="cartCount" style="display:none">0</div>
  üõí
</button>

<script>
/* ==========================
   DATA PRODUK
   Sesuaikan array ini untuk menambah/mengubah produk
   ========================== */
const PRODUCTS = [
  { id:'p1', name:'Panel Pterodactyl ‚Äî Reseller', price:14000, img:'https://files.catbox.moe/5uzz0z.jpg' },
  { id:'p2', name:'Danzo MD (Script Bot)', price:30000, img:'https://files.catbox.moe/uh1bt6.jpg' },
  { id:'p3', name:'VPS Digital Ocean 4GB / CPU2', price:25000, img:'https://files.catbox.moe/k08euw.jpg' },
  { id:'p4', name:'Install Panel (Jasa)', price:5000, img:'https://files.catbox.moe/z9iz9p.jpg' },
  { id:'p5', name:'Ochobotz v4 Update', price:35000, img:'https://files.catbox.moe/uh1bt6.jpg' },
  { id:'p6', name:'Saluran 1K (Jasa)', price:50000, img:'https://files.catbox.moe/z9iz9p.jpg' }
];

/* ======== Inisialisasi DOM refs ======== */
const productsEl = document.getElementById('products');
const cartListEl = document.getElementById('cartList');
const cartEmptyEl = document.getElementById('cartEmpty');
const totalRowEl = document.getElementById('totalRow');
const totalPriceEl = document.getElementById('totalPrice');
const cartActionsEl = document.getElementById('cartActions');
const cartCountEl = document.getElementById('cartCount');
const openCartFab = document.getElementById('openCartFab');

const shipCourierEl = document.getElementById('shipCourier');
const shipWeightEl = document.getElementById('shipWeight');
const calcShipBtn = document.getElementById('calcShipBtn');
const shipResultEl = document.getElementById('shipResult');
const addShipToTotalBtn = document.getElementById('addShipToTotal');
const checkoutWhatsBtn = document.getElementById('checkoutWhats');

let shippingCost = 0;

/* ======== Cart state (localStorage) ======== */
let cart = JSON.parse(localStorage.getItem('dzx_cart_v2') || '[]');

function persist(){ localStorage.setItem('dzx_cart_v2', JSON.stringify(cart)); }

/* ======== Render products ======== */
function renderProducts(){
  productsEl.innerHTML = '';
  PRODUCTS.forEach(p=>{
    const el = document.createElement('div');
    el.className = 'product';
    el.innerHTML = `
      <img src="${p.img}" alt="${escapeHtml(p.name)}">
      <div class="p-info">
        <div class="name">${escapeHtml(p.name)}</div>
        <div class="desc small">Harga: Rp ${formatRupiah(p.price)}</div>
      </div>
      <div class="p-action">
        <div class="price">Rp ${formatRupiah(p.price)}</div>
        <button class="btn-buy" onclick="addToCart('${p.id}')">Beli</button>
      </div>
    `;
    productsEl.appendChild(el);
  });
}

/* ======== Cart functions ======== */
function findProduct(id){ return PRODUCTS.find(x=>x.id===id); }

function addToCart(id){
  const idx = cart.findIndex(i=>i.id===id);
  if(idx === -1) cart.push({ id, qty: 1 });
  else cart[idx].qty += 1;
  persist(); renderCart(); animateFab();
}

function removeFromCart(index){
  if(index>=0 && index<cart.length){
    cart.splice(index,1);
    persist(); renderCart();
  }
}

function changeQty(index, delta){
  if(!cart[index]) return;
  cart[index].qty += delta;
  if(cart[index].qty < 1) cart[index].qty = 1;
  persist(); renderCart();
}

function clearCart(){
  cart = []; persist(); renderCart();
}

/* calculate totals */
function cartTotal(){
  let sum = 0;
  cart.forEach(it=>{
    const p = findProduct(it.id);
    if(p) sum += p.price * it.qty;
  });
  return sum;
}

/* render cart UI */
function renderCart(){
  if(cart.length === 0){
    cartEmptyEl.style.display = 'block';
    cartListEl.style.display = 'none';
    totalRowEl.style.display = 'none';
    cartActionsEl.style.display = 'none';
    cartCountEl.style.display = 'none';
    return;
  }

  cartEmptyEl.style.display = 'none';
  cartListEl.style.display = 'flex';
  cartListEl.innerHTML = '';

  let total = 0;
  cart.forEach((it, idx) => {
    const p = findProduct(it.id);
    if(!p) return;
    const sub = p.price * it.qty;
    total += sub;

    const node = document.createElement('div');
    node.className = 'cart-item';
    node.innerHTML = `
      <div style="display:flex;gap:10px;align-items:center">
        <img src="${p.img}" alt="${escapeHtml(p.name)}">
        <div>
          <div class="meta name">${escapeHtml(p.name)}</div>
          <div class="small">Rp ${formatRupiah(p.price)} ‚Ä¢ Sub: Rp ${formatRupiah(sub)}</div>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
        <div style="display:flex;align-items:center;gap:6px">
          <button onclick="changeQty(${idx},-1)" style="background:transparent;border-radius:6px;padding:6px;border:1px solid rgba(255,255,255,0.08);color:#fff;cursor:pointer">‚àí</button>
          <div style="padding:6px 8px;background:rgba(255,255,255,0.03);border-radius:6px">${it.qty}</div>
          <button onclick="changeQty(${idx},1)" style="background:transparent;border-radius:6px;padding:6px;border:1px solid rgba(255,255,255,0.08);color:#fff;cursor:pointer">Ôºã</button>
        </div>
        <div>
          <button onclick="removeFromCart(${idx})" style="background:transparent;border:none;color:#ff8b8b;cursor:pointer">Hapus</button>
        </div>
      </div>
    `;
    cartListEl.appendChild(node);
  });

  totalRowEl.style.display = 'flex';
  totalPriceEl.innerText = 'Rp ' + formatRupiah(cartTotal() + shippingCost);
  cartActionsEl.style.display = 'flex';
  cartCountEl.style.display = 'block';
  cartCountEl.innerText = cart.reduce((a,b)=>a+b.qty,0);
}

/* ======== Shipping (Ongkir) calculation ======== */
/*
  Simple shipping rules (example):
  - JNE = 12.000 per kg (or per 1000g)
  - JNT = 11.000 per kg
  - SiCepat = 10.000 per kg
  Billing rounds up per kg (ceil)
*/
function calcShipping(courier, weightGrams){
  const kg = Math.ceil((weightGrams || 0) / 1000);
  let rate = 12000;
  if(courier === 'jnt') rate = 11000;
  if(courier === 'sicepat') rate = 10000;
  return kg * rate;
}

calcShipBtn.addEventListener('click', ()=>{
  const courier = shipCourierEl.value;
  const weight = parseInt(shipWeightEl.value) || 0;
  if(weight <= 0){ alert('Masukkan berat paket dalam gram.'); return; }
  const cost = calcShipping(courier, weight);
  shippingCost = cost;
  shipResultEl.innerHTML = `Total Ongkir (${courier.toUpperCase()}): <b>Rp ${formatRupiah(cost)}</b>`;
  totalPriceEl.innerText = 'Rp ' + formatRupiah(cartTotal() + shippingCost);
});

/* add shipping to total (keperluan checkout) */
addShipToTotalBtn.addEventListener('click', ()=>{
  if(cart.length === 0){ alert('Keranjang kosong. Silakan tambahkan produk terlebih dahulu.'); return; }
  if(!shippingCost){ alert('Hitung ongkir terlebih dahulu.'); return; }
  alert('Ongkir telah dimasukkan ke total. Silakan checkout.');
  renderCart();
});

/* ======== Checkout via WhatsApp (prefill) ======== */
checkoutWhatsBtn.addEventListener('click', ()=>{
  if(cart.length === 0){ alert('Keranjang kosong.'); return; }

  // ask buyer info: name, phone, payment method
  const buyerName = prompt('Masukkan nama Anda untuk konfirmasi (contoh: Budi):') || '';
  const buyerPhone = prompt('Masukkan nomor WhatsApp Anda (format: 62812...):') || '';
  const metode = prompt('Metode pembayaran (DANA/QRIS):', 'DANA') || 'DANA';

  const adminWa = '6285124271621'; // admin number
  let message = `Halo Admin Danzx Hosting,%0ASaya ingin melakukan pemesanan.%0A%0A`;
  message += `Nama: ${encodeURIComponent(buyerName)}%0ANo.WA: ${encodeURIComponent(buyerPhone)}%0AMetode: ${encodeURIComponent(metode)}%0A%0A`;
  let total = 0;
  cart.forEach((it, idx) => {
    const p = findProduct(it.id);
    const sub = p.price * it.qty;
    message += `${idx+1}. ${encodeURIComponent(p.name)} x${it.qty} = Rp ${formatRupiah(sub)}%0A`;
    total += sub;
  });
  message += `%0ASubtotal: Rp ${formatRupiah(total)}%0A`;
  message += `Ongkir: Rp ${formatRupiah(shippingCost)}%0A`;
  message += `Total Bayar: Rp ${formatRupiah(total + shippingCost)}%0A%0A`;
  message += `Catatan: `;
  const url = `https://wa.me/${adminWa}?text=${message}`;
  window.open(url, '_blank');
});

/* ======== Payment actions (DANA & QRIS) ======== */
document.getElementById('copyDanaBtn').addEventListener('click', ()=>{
  const dana = document.getElementById('danaNumber').innerText.trim();
  navigator.clipboard.writeText(dana).then(()=> alert('Nomor DANA disalin: ' + dana));
});
document.getElementById('toggleQrisBtn').addEventListener('click', ()=>{
  document.getElementById('qrisBox').classList.toggle('show');
});
document.getElementById('copyDanaPay').addEventListener('click', ()=>{
  const dana = document.getElementById('danaNumber').innerText.trim();
  navigator.clipboard.writeText(dana).then(()=>{
    alert('Nomor DANA disalin. Silakan transfer lalu konfirmasi via WhatsApp.');
    window.open('https://wa.me/6285124271621?text=Saya%20sudah%20transfer%20ke%20DANA%20'+encodeURIComponent(dana),'_blank');
  });
});
document.getElementById('downloadQris').addEventListener('click', ()=>{
  const url = document.querySelector('#qrisBox img').src;
  const a = document.createElement('a');
  a.href = url;
  a.download = 'qris.png';
  a.click();
});

/* ======== Fab behavior ======== */
openCartFab.addEventListener('click', ()=>{
  // scroll to cart panel
  const y = document.getElementById('cartArea').getBoundingClientRect().top + window.scrollY - 20;
  window.scrollTo({ top: y, behavior: 'smooth' });
});

/* ======== Utilities ======== */
function formatRupiah(num){ return Number(num).toLocaleString('id-ID'); }
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<
