<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Danzx Hosting — Store Premium</title>

<!-- IONICONS (opsional, dipakai untuk ikon) -->
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

<style>
  /* === Visual: premium glassmorphism + neon soft === */
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

  :root{
    --bg-1: #0b0710;
    --bg-2: #2b1f4a;
    --glass: rgba(255,255,255,0.06);
    --accent: linear-gradient(135deg,#7c5cff,#6e9dff);
    --accent-solid: #7c5cff;
    --success: #2ed573;
    --gold: #ffb84d;
    --muted: rgba(255,255,255,0.75);
    --card-radius: 14px;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background: linear-gradient(135deg,var(--bg-1),var(--bg-2));
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:28px 18px 80px;
  }

  /* layout */
  .container{max-width:1100px;margin:0 auto}
  .header{display:flex;gap:16px;align-items:center;margin-bottom:20px}
  .logo{
    width:72px;height:72px;border-radius:12px;
    background:var(--accent-solid);display:flex;align-items:center;justify-content:center;
    font-weight:700;color:#fff;box-shadow:0 10px 32px rgba(124,92,255,0.18);
  }
  .title h1{margin:0;font-size:20px}
  .title p{margin:6px 0 0;color:var(--muted);font-size:13px}

  .layout{display:grid;grid-template-columns:1fr 380px;gap:20px}
  @media(max-width:930px){ .layout{grid-template-columns:1fr} }

  /* Product panel */
  .panel{
    background:var(--glass);
    border-radius:var(--card-radius);
    padding:18px;
    backdrop-filter: blur(12px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.45);
  }
  .panel h2{margin:0 0 12px;font-size:18px}
  .products{display:flex;flex-direction:column;gap:12px}

  .product{
    display:flex;gap:14px;align-items:center;padding:12px;border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.035);
    transition:transform .18s ease, box-shadow .18s ease;
  }
  .product:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,0.45)}
  .product img{width:110px;height:78px;object-fit:cover;border-radius:8px;flex-shrink:0}
  .p-info{flex:1}
  .p-title{font-weight:600}
  .p-sub{font-size:13px;color:var(--muted);margin-top:6px}
  .p-actions{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
  select.variant{padding:8px;border-radius:8px;border:none;background:rgba(255,255,255,0.03);color:#fff}
  button.btn{padding:10px 12px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
  button.buy{background:linear-gradient(135deg,#7c5cff,#a78bfa);color:#fff;box-shadow:0 8px 20px rgba(124,92,255,0.14)}
  .price{font-weight:700;margin-bottom:4px}

  /* Side column */
  .side{display:flex;flex-direction:column;gap:12px}
  .card{background:var(--glass);padding:14px;border-radius:12px;backdrop-filter:blur(12px);box-shadow:0 8px 30px rgba(0,0,0,0.35)}

  .cart-list{display:flex;flex-direction:column;gap:10px;max-height:300px;overflow:auto;padding-right:6px}
  .cart-item{display:flex;justify-content:space-between;gap:8px;align-items:center;padding:8px;background:rgba(0,0,0,0.14);border-radius:8px}
  .cart-item .meta{font-size:13px}
  .qty{display:flex;gap:6px;align-items:center}
  .qty button{padding:6px;border-radius:6px;border:none;background:rgba(255,255,255,0.03);color:#fff;cursor:pointer}

  .row{display:flex;gap:8px;align-items:center}
  .muted{color:var(--muted);font-size:13px}
  .total{display:flex;justify-content:space-between;align-items:center;margin-top:12px;font-weight:700}

  /* payment section specifics */
  .dana{font-weight:700;font-size:18px;letter-spacing:1px}
  .small{font-size:13px;color:var(--muted)}
  .copy{background:linear-gradient(135deg,var(--success),#58e28b);color:#062017;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .toggle{background:linear-gradient(135deg,#6ea8ff,#52d0ff);color:#042737;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .primary{background:linear-gradient(135deg,var(--accent-solid),#8b5cf6);color:#fff;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .gold{background:linear-gradient(135deg,var(--gold),#ff9800);color:#2b1b00;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:700}

  .qris-img{width:100%;border-radius:10px;margin-top:12px;box-shadow:0 8px 30px rgba(0,0,0,0.45)}

  /* footer */
  .footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px;padding:18px}

  /* floating cart button */
  .fab{
    position:fixed;right:18px;bottom:18px;background:linear-gradient(135deg,#7c5cff,#a78bfa);width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 34px rgba(124,92,255,0.22);z-index:1000;border:none;cursor:pointer;
  }
  .fab .count{position:absolute;right:8px;top:6px;background:#ff5b5b;color:#fff;border-radius:999px;padding:4px 7px;font-weight:700;font-size:12px}

  /* small responsive */
  @media(max-width:640px){
    .product{flex-direction:column;align-items:flex-start}
    .p-actions{width:100%;flex-direction:row;justify-content:space-between}
    select.variant{width:70%}
  }
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">DZX</div>
      <div class="title">
        <h1>Danzx Hosting — Store Premium</h1>
        <p>Produk & Layanan • Pembayaran DANA / QRIS • Support WhatsApp & Telegram</p>
      </div>
    </header>

    <main class="layout">
      <!-- LEFT: Products -->
      <section class="panel" aria-label="Daftar Produk">
        <h2>Daftar Produk & Varian</h2>
        <div class="products" id="products"></div>
      </section>

      <!-- RIGHT: Cart / Payment / Contact -->
      <aside class="side">
        <!-- Cart -->
        <div class="card" aria-label="Keranjang">
          <h3>Keranjang Belanja</h3>
          <div id="cartEmpty" class="muted">Keranjang kosong — tambahkan produk.</div>
          <div class="cart-list" id="cartList" style="display:none"></div>

          <div class="total" id="totalRow" style="display:none">
            <div>Subtotal</div>
            <div id="subtotalText">Rp 0</div>
          </div>

          <!-- Shipping -->
          <div style="margin-top:12px">
            <label class="muted">Hitung Ongkir (gram)</label>
            <div class="row" style="margin-top:8px">
              <select id="shipCourier" style="padding:10px;border-radius:8px;border:none;background:rgba(255,255,255,0.03);color:#fff">
                <option value="jne">JNE</option>
                <option value="jnt">JNT</option>
                <option value="sicepat">SiCepat</option>
              </select>
              <input id="shipWeight" type="number" min="1" placeholder="Berat (gram)" value="1000">
            </div>
            <div class="row" style="margin-top:8px">
              <button class="primary" id="calcShipBtn">Hitung Ongkir</button>
              <button class="gold" id="applyShipBtn">Masukkan ke Total</button>
            </div>
            <div class="muted" id="shipResult" style="margin-top:8px">Total Ongkir: Rp 0</div>
          </div>

          <div class="row" style="margin-top:12px;display:none" id="cartActions">
            <button class="primary" id="checkoutBtn">Checkout via WhatsApp</button>
            <button class="copy" id="clearBtn">Clear</button>
          </div>
        </div>

        <!-- Payment DANA -->
        <div class="card" aria-label="Pembayaran">
          <h3>Pembayaran</h3>
          <div class="muted">Nomor DANA</div>
          <div class="dana" id="danaNumber">08133124186</div>
          <div class="muted">A/N Danzx Hosting</div>

          <div style="margin-top:10px" class="row">
            <button class="copy" id="copyDanaBtn">Copy Nomor</button>
            <button class="toggle" id="qrisToggleBtn">QRIS</button>
          </div>

          <div id="qrisBox" style="display:none;margin-top:12px">
            <img class="qris-img" id="qrisImg" src="https://files.catbox.moe/3vueqq.jpg" alt="QRIS">
            <div class="row" style="margin-top:10px">
              <button class="primary" id="copyThenConfirm">Salin & Konfirmasi</button>
              <button class="gold" id="downloadQrisBtn">Download QRIS</button>
            </div>
          </div>
        </div>

        <!-- Contact -->
        <div class="card" aria-label="Kontak">
          <h3>Kontak & Testimoni</h3>
          <div class="row" style="margin-top:10px">
            <a href="https://t.me/Danzx_Official" target="_blank" rel="noopener"><button class="primary">Telegram</button></a>
            <a id="waContact" href="https://wa.me/6285124271621" target="_blank" rel="noopener"><button class="copy">WhatsApp</button></a>
          </div>
          <div style="margin-top:12px">
            <a href="https://whatsapp.com/channel/0029VbBSKdh8aKvShLrENh11" target="_blank" rel="noopener"><button class="gold" style="width:100%">Testimoni</button></a>
          </div>
        </div>
      </aside>
    </main>

    <footer class="footer">© <span id="year"></span> Danzx Hosting — semua hak dilindungi</footer>
  </div>

  <!-- Floating cart FAB -->
  <button class="fab" id="fabBtn" title="Buka Keranjang">
    <ion-icon name="cart" style="font-size:22px;color:#fff"></ion-icon>
    <div class="count" id="fabCount" style="display:none">0</div>
  </button>

<script>
/* --------------------------
   Configuration (ganti bila perlu)
   -------------------------- */
const ADMIN_WA = '6285124271621'; // nomor admin untuk checkout
const DANA_NUMBER = '08133124186';
const QRIS_IMG = 'https://files.catbox.moe/3vueqq.jpg';

/* --------------------------
   Produk + varian (daftar lengkap)
   Ubah/extend array ini bila perlu
   -------------------------- */
const PRODUCTS = [
  {
    id: 'panel-ptero',
    title: 'Panel Pterodactyl',
    img: 'https://files.catbox.moe/5uzz0z.jpg',
    variants: [
      { name: 'Reseller Panel', price: 14000 },
      { name: 'Admin Panel', price: 16000 },
      { name: 'PT Panel', price: 25000 },
      { name: 'Owner Panel', price: 30000 },
      { name: 'Tangan Kanan Panel', price: 35000 }
    ]
  },
  {
    id: 'script-bot',
    title: 'Script Bot WA & Telegram',
    img: 'https://files.catbox.moe/uh1bt6.jpg',
    variants: [
      { name: 'Danzo MD', price: 30000 },
      { name: 'Reseller Danzo MD', price: 80000 },
      { name: 'SelfBot', price: 25000 },
      { name: 'PushKontak', price: 15000 },
      { name: 'Alice Assistant', price: 30000 },
      { name: 'Ochobotz v4', price: 20000 },
      { name: 'Ochobotz v4 Update', price: 35000 },
      { name: 'Reseller Ochobotz', price: 50000 },
      { name: 'Variezyne', price: 15000 },
      { name: 'Reseller Variezyne', price: 25000 },
      { name: 'Cpanel X MD', price: 20000 },
      { name: 'Cpanel 4 Server', price: 20000 },
      { name: 'Protect Simple', price: 15000 },
      { name: 'Protect Telegram', price: 20000 },
      { name: 'Digital Ocean Botz', price: 50000 },
      { name: 'Bug Nika', price: 20000 },
      { name: 'Bug Justin', price: 20000 }
    ]
  },
  {
    id: 'vps-do',
    title: 'VPS Digital Ocean',
    img: 'https://files.catbox.moe/k08euw.jpg',
    variants: [
      { name: 'Ram 4 / CPU 2', price: 25000 },
      { name: 'Ram 8 / CPU 4', price: 35000 },
      { name: 'Ram 16 / CPU 4', price: 40000 },
      { name: 'Ram 16 / CPU 8', price: 45000 }
    ]
  },
  {
    id: 'jasa-lain',
    title: 'Jasa & Layanan Lainnya',
    img: 'https://files.catbox.moe/z9iz9p.jpg',
    variants: [
      { name: 'Install Panel', price: 5000 },
      { name: 'Install Protect', price: 8000 },
      { name: 'Install Tema', price: 5000 },
      { name: 'Rename Script', price: 10000 },
      { name: 'Push Saluran', price: 10000 },
      { name: 'Unband WA Fresh', price: 30000 },
      { name: 'Unband WA Lumut', price: 40000 },
      { name: 'Admin Saluran', price: 10000 },
      { name: 'Saluran 1K', price: 50000 }
    ]
  }
];

/* --------------------------
   State (cart + shipping)
   persisted in localStorage
   -------------------------- */
let cart = JSON.parse(localStorage.getItem('dzx_cart')) || []; // { productId, variantIndex, qty }
let shippingCost = 0;

/* --------------------------
   Helpers
   -------------------------- */
const $ = (sel) => document.querySelector(sel);
const $$ = (sel) => Array.from(document.querySelectorAll(sel));
function formatIDR(n){ return Number(n).toLocaleString('id-ID'); }
function persist(){ localStorage.setItem('dzx_cart', JSON.stringify(cart)); }

/* --------------------------
   Render products
   -------------------------- */
function renderProducts(){
  const container = $('#products');
  container.innerHTML = '';
  PRODUCTS.forEach(prod => {
    const card = document.createElement('div');
    card.className = 'product';
    // build variant select
    let variantOptions = `<select class="variant" id="sel-${prod.id}">`;
    prod.variants.forEach((v,i) => {
      variantOptions += `<option value="${i}">${v.name} — Rp ${formatIDR(v.price)}</option>`;
    });
    variantOptions += `</select>`;

    card.innerHTML = `
      <img src="${prod.img}" alt="${prod.title}">
      <div class="p-info">
        <div class="p-title">${prod.title}</div>
        <div class="p-sub muted">${prod.variants.length} varian tersedia</div>
        <div style="margin-top:8px">${variantOptions}</div>
      </div>
      <div class="p-actions">
        <div class="price">Mulai Rp ${formatIDR(prod.variants[0].price)}</div>
        <div style="margin-top:8px">
          <button class="btn buy" onclick="addToCart('${prod.id}', document.getElementById('sel-${prod.id}').value)">Tambah</button>
        </div>
      </div>
    `;
    container.appendChild(card);
  });
}

/* --------------------------
   Cart functions
   -------------------------- */
function addToCart(productId, variantIndex){
  variantIndex = Number(variantIndex);
  const idx = cart.findIndex(c => c.productId === productId && c.variantIndex === variantIndex);
  if(idx === -1) cart.push({ productId, variantIndex, qty: 1 });
  else cart[idx].qty += 1;
  persist(); renderCart(); pulseFab();
}

function removeCartItem(i){
  cart.splice(i,1);
  persist(); renderCart();
}

function changeQty(i, delta){
  cart[i].qty += delta;
  if(cart[i].qty < 1) cart[i].qty = 1;
  persist(); renderCart();
}

function clearCart(){
  if(!confirm('Kosongkan keranjang?')) return;
  cart = []; persist(); renderCart();
}

function cartSubtotal(){
  let sum = 0;
  cart.forEach(item => {
    const p = PRODUCTS.find(x => x.id === item.productId);
    if(!p) return;
    const v = p.variants[item.variantIndex];
    sum += v.price * item.qty;
  });
  return sum;
}

/* --------------------------
   Render cart UI
   -------------------------- */
function renderCart(){
  const cartList = $('#cartList');
  const cartEmpty = $('#cartEmpty');
  const totalRow = $('#totalRow');
  const subtotalText = $('#subtotalText');
  const cartActions = $('#cartActions');
  const fabCount = $('#fabCount');

  if(cart.length === 0){
    cartEmpty.style.display = 'block';
    cartList.style.display = 'none';
    totalRow.style.display = 'none';
    cartActions.style.display = 'none';
    fabCount.style.display = 'none';
    subtotalText.textContent = 'Rp 0';
    return;
  }

  cartEmpty.style.display = 'none';
  cartList.style.display = 'flex';
  cartList.innerHTML = '';
  let subtotal = 0;

  cart.forEach((it, i) => {
    const p = PRODUCTS.find(x => x.id === it.productId);
    if(!p) return;
    const v = p.variants[it.variantIndex];
    const sub = v.price * it.qty;
    subtotal += sub;

    const node = document.createElement('div');
    node.className = 'cart-item';
    node.innerHTML = `
      <div style="display:flex;gap:10px;align-items:center">
        <img src="${p.img}" style="width:56px;height:42px;border-radius:8px;object-fit:cover" alt="">
        <div class="meta">
          <div style="font-weight:700">${p.title}</div>
          <div class="muted">${v.name} • Rp ${formatIDR(v.price)} • Sub: Rp ${formatIDR(sub)}</div>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
        <div class="qty">
          <button onclick="changeQty(${i}, -1)">−</button>
          <div style="padding:6px 8px;background:rgba(255,255,255,0.03);border-radius:6px">${it.qty}</div>
          <button onclick="changeQty(${i}, 1)">＋</button>
        </div>
        <div><button style="background:transparent;border:none;color:#ff8b8b;cursor:pointer" onclick="removeCartItem(${i})">Hapus</button></div>
      </div>
    `;
    cartList.appendChild(node);
  });

  totalRow.style.display = 'flex';
  subtotalText.textContent = 'Rp ' + formatIDR(subtotal + shippingCost);
  cartActions.style.display = 'flex';
  $('#fabCount').style.display = 'inline-block';
  $('#fabCount').textContent = cart.reduce((a,b)=>a+b.qty,0);
}

/* --------------------------
   Shipping: simple per-kg
   -------------------------- */
function calcShipping(courier, grams){
  const kg = Math.ceil((grams || 0) / 1000);
  let rate = 12000; // default JNE
  if(courier === 'jnt') rate = 11000;
  if(courier === 'sicepat') rate = 10000;
  return kg * rate;
}

$('#calcShipBtn').addEventListener('click', () => {
  const courier = $('#shipCourier').value;
  const weight = parseInt($('#shipWeight').value) || 0;
  if(weight <= 0){ alert('Masukkan berat paket (gram)'); return; }
  shippingCost = calcShipping(courier, weight);
  $('#shipResult').innerHTML = `Total Ongkir (${courier.toUpperCase()}): <b>Rp ${formatIDR(shippingCost)}</b>`;
  renderCart();
});

$('#applyShipBtn').addEventListener('click', () => {
  if(cart.length === 0){ alert('Keranjang kosong. Tambahkan produk terlebih dahulu.'); return; }
  if(!shippingCost){ alert('Hitung ongkir terlebih dahulu.'); return; }
  alert('Ongkir telah dimasukkan ke total.');
  renderCart();
});

/* --------------------------
   Checkout via WhatsApp
   -------------------------- */
$('#checkoutBtn').addEventListener('click', () => {
  if(cart.length === 0){ alert('Keranjang kosong.'); return; }
  const buyerName = prompt('Nama pembeli (untuk konfirmasi):') || '';
  const buyerPhone = prompt('Nomor WhatsApp Anda (contoh: 62812...):') || '';
  const method = prompt('Metode pembayaran (DANA/QRIS):', 'DANA') || 'DANA';

  const admin = ADMIN_WA;
  let message = `Halo%20Admin%20Danzx%20Hosting%2C%20saya%20ingin%20melakukan%20pemesanan.%0A%0A`;
  message += `Nama%3A%20${encodeURIComponent(buyerName)}%0ANo.WA%3A%20${encodeURIComponent(buyerPhone)}%0AMetode%3A%20${encodeURIComponent(method)}%0A%0A`;

  let subtotal = 0;
  cart.forEach((it, idx) => {
    const p = PRODUCTS.find(x => x.id === it.productId);
    const v = p.variants[it.variantIndex];
    const sub = v.price * it.qty;
    subtotal += sub;
    message += `${idx+1}. ${encodeURIComponent(p.title)} - ${encodeURIComponent(v.name)} x${it.qty} = Rp ${formatIDR(sub)}%0A`;
  });

  message += `%0ASubtotal%3A%20Rp%20${formatIDR(subtotal)}%0A`;
  message += `Ongkir%3A%20Rp%20${formatIDR(shippingCost)}%0A`;
  message += `Total%3A%20Rp%20${formatIDR(subtotal + shippingCost)}%0A%0A`;
  message += `Catatan%3A%20`;

  const url = `https://wa.me/${admin}?text=${message}`;
  window.open(url, '_blank');
});

/* --------------------------
   Payment actions: DANA & QRIS
   -------------------------- */
$('#copyDanaBtn').addEventListener('click', () => {
  const dana = DANA_NUMBER;
  navigator.clipboard.writeTex
